<html>
<head><title>jEdit RMI Interface</title></head>

<body>

<h1>jEdit RMI Interface</h1>

<ul>
<li><a href=#intro>Introduction</a>
<li><a href=#registry>The RMI Registry</a>
<li><a href=#using>Using the RMI Interface</a>
<li><a href=#devel>Developing With the RMI Interface</a>
</ul>

<a name=intro>
<h1>Introduction</h1>
</a>

Using the Java remote method invocation (RMI) system, jEdit can export
some of it's services and make them available for other applications.
The RMI system replaces the old socket-based server from previous
versions of jEdit.

<a name=registry>
<h1>The RMI Registry</h1>
</a>

For other applications to be able to use jEdit's services, jEdit must
be registered with the RMI registry. The RMI registry is maintained
by the `rmiregistry' program of the JDK. It must be running all the
time any RMI applications are being used.<p>

To start the registry on Unix, the following command can be entered:

<pre>
rmiregistry -J"-classpath $CLASSPATH:<i>path to jedit.jar</i>" &amp;
</pre>

This command can be added to your $HOME/.profile (if you're running a
Bourne shell) or $HOME/.login (if you're running a C shell) if you want
the registry to be started every time you login in.<p>

To start the registry on Windows, the following command can be
entered:

<pre>
start rmiregistry -J"-classpath $CLASSPATH:<i>path to jedit.jar</i>"
</pre>

This command can be added to your C:\AUTOEXEC.BAT to have the registry
started every time Windows boots.<p>

Because the registry caches stub classes, you must restart it after
installing a new release of jEdit. The RMI interface might not work
if you do not do so (it will throw a version mismatch error).

<a name=using>
<h1>Using the RMI Interface</h1>
</a>

When jEdit is started, it first checks if another instance is registered.
If so, it will attempt to connect to that instance and open any files
specified.<p>

The following command line parameters relate to RMI:

<ul>
<li><code>-rmi=<i>name</i></code>: the name under which jEdit will
register itself
<li><code>-normi</code>: disables jEdit's RMI support for one
session
<li><code>-wait</code>: if connecting to another instance,
this will force jEdit to wait for the newly created view to be closed
by other user before it will exit. Otherwise, the cient jEdit will
return to the shell immediately.
</ul>

<a name=devel>
<h1>Developing With the RMI Interface</h1>
</a>

jEdit's remote control interface is contained in the
<code>org.gjt.sp.jedit.remote</code> package. The main interface is
<a href=../api/org.gjt.sp.jedit.remote.RemoteEditor.html>RemoteEditor</a> -
it allows one to create and obtain remote buffers and views.<p>

An instance of <code>RemoteEditor</code> can be obtained from the
registry using <code>Naming.lookup()</code>.<p>

Note that in addition to the <code>org.gjt.sp.jedit.remote</code>
package, your application will have to include the classes suffixed
with _Stub from the <code>org.gjt.sp.jedit.remote.impl</code> package.

</body>
</html>
