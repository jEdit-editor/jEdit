<html>

<head><title>jEdit To Do</title></head>

<body>

<h1>jEdit To Do</h1>

<ul>
<li><a href=#veryshortterm>Very Short Term</a>
<li><a href=#shortterm>Short Term</a>
<li><a href=#medterm>Medium Term</a>
<li><a href=#longterm>Long Term</a>
</ul>

<a name=veryshortterm>
<h1>Very Short Term</h1>
</a>

This is what needs to be done as soon as possible:

<ul>

<li>Caps lock doesn't work ??? !!!

<li>After the first find, the wrong text is selected ?

<li>Command names in the keyboard shortcut editor need to be sorted.<p>
Very easy to implement, not if only I could find that quicksort.java...

<li>Console's stdin stuff needs to be fixed.<p>
Probably a silly bug in Console.java.

<li>Multiline token colorization needs some work.<p>
The C+END `bug' still exists.

<li>Sometimes closing a view stuffs up all other event listeners.<p>
This usually occurs with views created by the server. Probably
a side effect of the EventMulticaster re-entrancy problems.

<li>Event system needs to be debugged and documented better.<p>
With the current EventMulticaster, event listeners cannot
be removed from the fire() method or one of the methods it
calls directly.<p>

There are several ways to fix this:
<ul>
<li>Document it, and suggest SwingUtilities.invokeLater() as
an alternative. This is not very good because invokeLater()
has several subtle issues.
<li>Make EventMulticaster thread-safe. This is very hard with
the current way of storing listeners in a linked list.
<li>Use Swing's EventListenerList class. This is probably
the best way, because it already implements thread-safety.
</ul>

</ul>

<a name=shortterm>
<h1>Short Term</h1>
</a>

This is what needs to be done sometime during the 1.6preX
series:

<ul>
<li>Proof-read and enhance all documentation.<p>
The documentation, both for users and developers, is incomplete
and possibly inaccurate at the moment.<p>
Documentation for extending the console and using the history
text field should be provided. Also, some information about the
tool bar API in the View class needs to be written.

<li>Inter-plugin class dependencies.<p>
Classes from one plugin should be able to use classes from other
loaded plugins.

<li>Add quote parsing to console.<p>
The current system of argument parsing is very limited. Arguments
enclosed with quotes should be treated as one.

<li>Help viewer should support bookmarks.<p>
As more and more documentation is written, this becomes more of
an issue.

<li>Syntax colorizing optimizations.<p>
If we override the paint() method of the View class then we will
be able to fetch the document and token marker once per paint
request, rather than once per line.<p>
Also, a direct setClipBounds()/paintSyntaxLine() should be used
to repaint lines after a multiline token.
</ul>

</ul>

<a name=medterm>
<h1>Medium Term</h1>
</a>

This is what needs to be done either in the 1.7 series, or
possibly in the 1.6 series:

<ul>
<li>Port jEdit to Swing 1.1.1. It is a much better release
and this should be done as soon as 1.1.1 is released. The
following workarounds should be removed from jEdit:

<ul>
<li>The removeAll() hack in the View.update*Menu methods
<li>Various workarounds for &lt;h<i>n</i>&gt; bugs in the HTML help
<li>... maybe more?
</ul>

<li>More syntax modes.<p>
Perl, SQLJ and TCL are the most frequently requested ones.

<li>Editor needs to be embeddable in other applications.<p>
There are several levels of integration that should be looked into:

<ul>
<li>jEdit as an editing service for other applications.<p>
This way, jEdit will still be a standalone application, but the
server will be extended to support notification of buffers being
closed and such. A simple client - a wrapper around the server
should also be written.

<li>jEdit as an editing service of other applications, running
inside that application.<p>
This way, jEdit will provide support for running inside another
application. An AppOwner or similar interface will provide
support for exiting, fetching properties, and so on.

<li>jEdit as a component inside another application.<p>
This way, an application will be able to add a view or similar to
it's component hierarchy. This will require views to be
modularized and separated out into distinct components. The
action system will need to be overhauled as well, since the
current getView()/getBuffer() system is limited.
</ul>

<li>Console updates.<p>
The console's support for `built in' commands should be improved.
Versions of `ls', `mkdir', etc should be provided for Windows/MacOS
users. More than one output area should be supported. Maybe some
way of redirecting System.out/err to the console should be provided?

<li>Auto indent improvements.<p>
Auto indent should support `smart' indent (for example, shifting
the indent on the next line after an `if'). Also, it should line
up closing and opening brackets, instead of the current indent
shifting that does not always work correctly.<p>

Pressing keys such as {, } or : in C mode should invoke indentation
routines automatically.<p>

If we include XMode, we might as well get as much out of the
XML parser as possible- a simple way of specifying indentation
using XML should be supported.

</ul>

<a name=longterm>
<h1>Long Term</h1>
</a>

This is what needs to be done in jEdit versions after 1.6:

<ul>
<li>Integrate XMode.<p>
Mike Dillon's XMode is a much better way of writing syntax
modes than the current `manual' way.<p>

XMode is evolving very quickly so it might be ready in time
for the jEdit 1.6 release.

<li>Macro language.<p>

Some operations are very tedious without a macro language.<p>

The following issues need to be considered:

<ul>
<li>What language?<p>
JPython, being quite complete, fast and easy
to learn is a good choice for this.

<li>What level of integration? Should it be a macro language only,
or should it integrate deeply with jEdit, with parts of the editor
written in this language?<p>

If we choose to do full integration, actions can be eliminated,
being replaced by short prodedures in that language.<p>

If we choose to keep actions, how should they be invoked from the
language? As functions? With a special wrapper?

<li>Should properties be obsoleted?<p>
Manual calls to jEdit.setProperty(), or global variables in that
language can be used instead. No need to parse two different
file types at startup.

<li>Should the Java-based plugin API be obsoleted?<p>
This is unlikely,
since the extension language will be slower and more limited than
pure Java, no matter what we do. Also, installing a .jar is much
easier than a whole bunch of .py or whatever files.
</ul>

The `Paste Predefined' command can be removed when a macro
language is available.

<li>Piece content.<p>
Mike Dillon once said he was planning on implementing a piece
content similar to one used in Microsoft Word and many other
programs.<p>

This will lead to faster autosave, better undo, and faster
editing in general.

<li>Option system rewrite.<p>
As more and more settable properties appear, maintaining GUI
panels to edit them will become very difficult. Instead,
HTML pages with forms and a special jeditoptions: protocol
for setting properties should be used.

</ul>

</body>
</html>
