<html>
<body>

<h1>Advanced Text Editing</h1>

<a href=#intro>Introduction</a><br>
<a href=#server>The jEdit Server</a><br>
<a href=#desktop>Session Management</a><br>
<a href=#lineSep>Line Separator Characters</a><br>
<a href=#modes>Edit Modes</a><br>
<a href=#markers>Markers and the Anchor</a><br>
<a href=#search>Search &amp; Replace</a><br>
<a href=#console>Executing External Programs</a><br>
<a href=#misc>Miscallaneous Commands</a>

<a name=intro>
<h1>Introduction</h1>
</a>

This file outlines some of the more advanced features available in jEdit
such as the server and desktop file, edit modes, the anchor and markers,
various `advanced' commands and search and replace.

<a name=server>
<h1>The jEdit Server</h1>
</a>

When jEdit is first started, it creates a new server thread that listens
on a free TCP/IP socket. Subsequent invocations of jEdit connect to that
socket and inform it of any files that are to be opened. This technique
cuts down on memory usage because there is only one instance of jEdit open
at any one time.

The server can be disabled either on a `one-time' basis with the
`-noserver' switch, or permanently in `Tools-&gt;Options-&gt;General'.

<a name=desktop>
<h1>Session Management</h1>
</a>

When jEdit exits it saves the list of open files and caret positions
to the properties, so that the next time jEdit is started with no
command line parameters, it can reopen those files.<p>

Session management can be disabled either on a `one-time' basis with the
`-nodesktop' switch, or permanently in `Tools-&gt;Options-&gt;General'.

<a name=lineSep>
<h1>Line Separator Characters</h1>
</a>

Windows, MacOS and Unix all define different line separator, or end of line,
characters. On Windows, it is CRLF (\r\n), on MacOS it is CR (\r) and on Unix,
LF (\n). jEdit opens and saves files with all three line separators.<p>

For existing files, jEdit uses the line separator from that file when saving.
It can be changed on a file-by-file basis by selecting it from the
`File-&gt;Line Separator' menu
The line separator for new files can be specified in
`Tools-&gt;Options-&gt;General'.

<a name=modes>
<h1>Edit Modes</h1>
</a>

Because it is impossible to provide optimal editing for all file types
at once, jEdit supports edit modes. Each edit mode defines indentation,
syntax colorizing patterns, and various settings such as default compiler,
comment strings, and so on.<p>

To determine which edit mode to use for a file, jEdit looks at the file
name, file extension, and first line of the file. The mode can also be
specified `manually'; either for the current session by selecting it
from the `Tools-&gt;Mode' menu, or permanently by entering the following
in one of the first 10 lines of the file whose edit mode you want to
set:
<blockquote><code>:mode=sh:</code></blockquote>
Of course, <i>sh</i> should be the <b>internal</b> name of the desired edit
mode.<p>

The following table lists all edit modes included with jEdit; additional
ones may be available, depending on the plugins installed. Note that jEdit's
file name matching routines are case-insensitive - test.bat, test.BaT and
test.BAT will all be edited with the Batch File mode.

<table border=3>

<tr>
<th bgcolor=#ccccff>Name</th><th bgcolor=#ccccff>Internal Name</th>
<th bgcolor=#ccccff>Used For Which File Types</th>
<th bgcolor=#ccccff>Description</th>
</tr>

<tr>
<td>Text</td> <td>none</td> <td></td> <td>Automatically selected
for files without a specific edit mode.</td>
</tr>

<tr>
<td>Auto Indent</td> <td>autoindent</td> <td></td>
<td>Implements semi-intelligent
indentation. Most other modes subclass this one.</td>
</tr>

<tr>
<td>AMSTeX</td> <td>amstex</td> <td>Files with extension `.tex'
containing `\documentstyle' but not `\begin' in the first 100 lines.</td>
<td>For editing AMSTeX files.</td>
</tr>

<tr>
<td>Batch File</td> <td>bat</td> <td>Files with extension `.bat'.</td>
<td>For editing MS-DOS Batch Files.</td>
</tr>

<tr>
<td>C</td> <td>c</td> <td>Files with extension `.c' or `.h'.</td>
<td>For editing C source.</td>
</tr>

<tr>
<td>C++</td> <td>cc</td> <td>Files with extension `.cc', `.hh', `.cpp'
or `.cxx'.</td> <td>For editing C++ source.</td>
</tr>

<tr>
<td>HTML</td> <td>html</td> <td>Files with extension `.html', `.htm' or
`.shtml'.</td> <td>For editing HTML files.</td>
</tr>

<tr>
<td>Java</td> <td>java_mode</td> <td>Files with extension `.java'.</td>
<td>For editing Java source.</td>
</tr>

<tr>
<td>JavaScript</td> <td>javascript</td> <td>Files with extension `.js'. Also
inside HTML &lt;script&gt; tags.</td> <td>For editing JavaScript source.</td>
</tr>

<tr>
<td>LaTeX</td> <td>latex</td> <td>Files with extension `.tex'
containing `\begin' in the first 100 lines.</td>
<td>For editing LaTeX files.</td>
</tr>

<tr>
<td>Makefile</td> <td>make</td> <td>Files named `makefile' or
`GNUmakefile'.</td> <td>For editing Makefiles.</td>
</tr>

<tr>
<td>Patch (DIFF)</td> <td>patch</td> <td>Files with extension `.diff' or
`.patch'.</td> <td>For editing Unix-style patches
and diffs.</td>
</tr>

<tr>
<td>Properties/INI</td> <td>props</td> <td>Files with extension `.ini',
`.kdelnk', `.props', `.properties', `.reg' and files named `properties',
`config.sys' or `.jedit-props'.</td> <td>For editing Java property files
and MS-DOS .ini files.</td>
</tr>

<tr>
<td>Shell Script</td> <td>sh</td> <td>Files whose first line is #! followed
by a shell path.</td> <td>For editing UNIX shell scripts.</td>
</tr>

<tr>
<td>TeX</td> <td>tex</td> <td>Files with extension `.tex' not containing
`\begin' or `\documentstyle' in the first 100 lines.</td>
<td>For editing plain TeX files.</td>
</tr>

<tr>
<td>Transact-SQL</td> <td>tsql</td> <td>Files with extension `.sql'.</td>
<td>For editing Transact-SQL files.
Contributed by Mike Dillon &lt;mdillon@uclink4.berkeley.edu&gt;.
</td>
</tr>

</table>

<a name=markers>
<h1>Markers and the Anchor</h1>
</a>

jEdit has two features which make it easier to browse around long files.<p>

The anchor is a floating location (floating meaning that if text
before it is changed, the anchor will move) that can be used to save a position
and go back later, to select large blocks of text, and to `flip' between two
positions in the document. Unlike markers, the anchor position is not saved
to disk when the file is saved.<p>

The following commands manipulate the anchor:

<ul>
<li><b>Edit-&gt;Anchor Operations-&gt;Set Anchor</b> - moves the anchor
to the current caret position.
<li><b>Edit-&gt;Anchor Operations-&gt;Go to Anchor</b> - moves the caret
position to where the anchor is.
<li><b>Edit-&gt;Anchor Operations-&gt;Select to Anchor</b> - selects text
from the anchor position to the caret.
<li><b>Edit-&gt;Anchor Operations-&gt;Exchange Anchor and Caret</b> - moves
the caret to the anchor position, and moves the anchor to where the caret
used to be.
</ul>

Markers are more general purpose than the anchor. There can be any
number of markers defined in the file, and they are saved to disk when
the file is saved. (Markers are saved to .<i>filename</i>.marks where
<i>filename</i> is the file)<p>

The following commands manipulate markers:

<ul>
<li><b>Search-&gt;Set Marker</b> - displays a text entry dialog where a marker
name can be entered. The default name is the current selection.
<li><b>Search-&gt;Clear Marker</b> - a menu of markers, selecting one will
clear it.
<li><b>Search-&gt;Go to Marker</b> - a menu of markers, selecting one will
move the caret position to it.
</ul>

<a name=search>
<h1>Search &amp; Replace</h1>
</a>

jEdit's Search &amp; Replace is based on regular expressions -
see <a href=regexp.html>Regular Expressions</a> if you are not familiar
with them.<p>

The actual searching and replacement commands are:

<ul>
<li><b>Search-&gt;Find</b> - displays the search &amp; replace dialog.
<li><b>Search-&gt;Find Next</b> - locates the next occurance of the search
string.
<li><b>Search-&gt;Find Selection</b> - locates the next occurance of the
selected text.
<li><b>Search-&gt;Replace</b> - replaces the selection with the replacement
string.
<li><b>Search-&gt;Replace &amp; Find Next</b> - replaces the selection with
the replacement string and locates the next occurance of the search string.
<li><b>Search-&gt;Replace in Selection</b> - replaces all occurances of the
search string with the replacement string, in the current selection only.
<li><b>Search-&gt;Replace All</b> - replaces all occurances of the search
string with the replacement string.
<li><b>Search-&gt;HyperSearch</b> - displays the HyperSearch dialog. The
HyperSearch feature lists all lines that contain the search string. Clicking
on a line in the list will select it in the editor.
</ul>

<b>Hint:</b> in the Search &amp; Replace and HyperSearch dialogs, the
up/down arrow keys can be used to recall up to 100 previously entered
strings.

<a name=console>
<h1>Executing External Programs</h1>
</a>

To make it easier to execute external programs such as compilers, each view
has a built in `console' that component. An error parsing system also
exists to make the compile-edit-fix cycle faster.<p>

The console can be shown and hidden by dragging the patterned bar underneath
the toolbar, or by invoking `Tools-&gt;Show/Hide Console'.<p>

The console consists of a command text field, an output
tab that lists the output of each command, and an errors tab that lists any
parsed errors. Pressing enter in the command field will execute the
currently entered command.<p>

While a command is running, jEdit attempts to parse any errors it outputs.
Currently, jEdit parses the following error formats:
<ul>
<li>Generic format used by many compilers and utilities:
<blockquote><code>file name:line number:error message</code></blockquote>
<lI>Emacs format used by Jikes Java compiler and several others:
<blockquote><code>
file name:line number:column number:end line number:end column number:<br>
error message</code></blockquote>
<li>TeX-style errors:
<blockquote><code>
! error message<br>
l.line number, error message continued
</code></blockquote>
</ul>

Selecting an error in the errors tab will open the file involved and move the
caret to the line where the error occurred. The `Tools-&gt;Next Error' and
`Tools-&gt;Previous Error' commands can also be used to go to the next and
the previous error, respectively.<p>

In addition to the console, jEdit has the following commands for executing
external programs:

<ul>
<li><b>Tools-&gt;Filter Selection</b> - asks for a command to execute, and
inserts the command's output into the document. The command's input is the
selection, if any.
<li><b>Tools-&gt;Compile</b> - used to compile the current file. Invokes
a mode specific compiler - for example, in C mode, this is cc, in Java
this is javac, etc.<p>

The compiler can also be set on a file-by-file basis by setting the
`compiler' buffer-local property, for example by putting this in one of
the first 10 lines of the file:
<blockquote><code>:compiler=c89 -O2 %p:</code></blockquote>
Of course c89 -O2 should be replaced by your compiler and compilation flags,
if any. The %p should appear somewhere in the compiler command - it is
replaced with the file's path name by the compile command.
</ul>


<b>Hint:</b> in the command entry field, the
up/down arrow keys can be used to recall up to 100 previously entered
commands.

<a name=misc>
<h1>Miscallaneous Commands</h1>
</a>

Here are some of the more oddball commands in jEdit:

<ul>
<li><b>Edit-&gt;Paste Previous</b> - displays a list of previously
copied and pasted strings available for insertion. By default, the last
100 clippings are remembered - this can be changed in
`Tools-&gt;Options-&gt;General'.
<li><b>Edit-&gt;Paste Predefined</b> - displays a list of frequently used
strings. Strings can be added and removed with the buttons in the dialog.
<li><b>Edit-&gt;Expand Abbreviation</b> - attempts to complete the current
word by scanning backwards in the document looking for strings that start with
the current word. The word separator characters are defined as all
non-alphanumeric characters except for those listed in the `noWordSep'
buffer-local property. For example, to be able to complete words containing `-',
place the following in the first 10 lines of the file:
<blockquote><code>:noWordSep=-:</code></blockquote>
</ul>

</body>
</html>
