<html>
<head>
<title>General Information</title>
</head>
<body>
<h1>General Information</h1>

<ul>
<li><a href=#intro>Introduction</a>
<li><a href=#jar>Contents of JAR Files</a>
<li><a href=#plugin>Plugin Interface</a>
<li><a href=#props>Plugin Properties</a>
<li><a href=#deps>Specifying Dependencies</a>
<li><a href=#thread>Thread Safety in jEdit</a>
</ul>

<a name=intro>
<h1>Introduction</h1>
</a>

jEdit has a plugin architecture that can be used to add features to the
editor. Plugins are distributed as JAR files. When jEdit starts up, it
loads the contents of the JAR files.

<a name=jar>
<h1>Contents of JAR Files</h1>
</a>

Any files whose names end with .props found in the JAR file are loaded into
the jEdit property table, and their contents can be accessed with the
<code>jEdit.getProperty()</code> method. See the
<a href=../api/org.gjt.sp.jedit.jEdit.html>org.gjt.sp.jedit.jEdit</a>
class for details.<p>

Class files whose names end with `Plugin' (eg, Rot13Plugin) are loaded,
instantiated and added to the plugin list. Other class files are loaded
only when they're referenced by another class.<p>

Any other entires in the JAR can be loaded using the standard Java
resource loading routines, for example:

<pre>
	InputStream in = getClass().getResourceAsStream("splash.gif");
</pre>

<a name=plugin>
<h1>Plugin Interface</h1>
</a>

The only type of class file loaded immediately is that which implements
the <a href=../api/org.gjt.sp.jedit.Plugin.html>org.gjt.sp.jedit.Plugin</a>
interface - therefore an implementation must be provided to load any
other actions and modes supplied with the plugin.<p>

Due to the way the class loader works, the names of Plugin implementations
must end with `Plugin'.<p>

In the <code>start()</code> method, one would usually register any actions
and modes with jEdit via the <code>jEdit.addPluginAction()</code> and
<code>jEdit.addMode()</code> methods. See the
<a href=../api/org.gjt.sp.jedit.jEdit.html>org.gjt.sp.jedit.jEdit</a>
class for details.<p>

The <code>stop()</code> method should do what is appropriate on exiting,
for example deleting any temporary files created by the plugin.

<a name=props>
<h1>Plugin Properties</h1>
</a>

The following properties are used by jEdit (currently, by the
help system only):

<ul>
<li><code>plugin.<i>plugin class</i>.name</code> - human readable/localised
name
<li><code>plugin.<i>plugin class</i>.author</code> - the author of the
plugin
<li><code>plugin.<i>plugin class</i>.version</code> - plugin version
<li><code>plugin.<i>plugin class</i>.docs</code> - name of HTML file,
relative to root directory of JAR, where documentation for this plugin
is stored
</ul>

All of these properties must be defined for the plugin to have an entry
in the help system.

<a name=deps>
<h1>Specifying Dependencies</h1>
</a>

Before initializing a plugin, jEdit looks for any properties named
<code>plugin.<i>plugin class</i>.depend.<i>i</i></code> where <i>i</i>
is an index starting at 0. Each property is of the form
<code><i>what</i> <i>arg</i></code>.<p>

The following values of <i>what</i> are supported:

<ul>
<li><code>jdk</code> - JDK version dependency. jEdit will check that the
JDK version is at least <i>arg</i> before loading this plugin.
<li><code>jedit</code> - jEdit build dependency. jEdit will check that
it's build (returned by the <code>jEdit.getBuild()</code> method) is at
least <i>arg</i> before loading this plugin.
<li><code>class</code> - Class dependency. jEdit will check that the
class named <i>arg</i> is defined before loading this plugin.
</ul>

If any dependency checks fail, a message is printed and the plugin is
not loaded.

<a name=thread>
<h1>Thread Safety in jEdit</h1>
</a>

Most jEdit methods are not thread safe. For now, all jEdit methods
should be called from the AWT Event Queue thread. Thread safety will
be addressed in a future release of jEdit.
</body>
</html>
