<html>
<head>
<title>jEdit Syntax Colorizing System</title>
</head>

<body>

<h1>jEdit Syntax Colorizing System</h1>

<ul>
<li><a href=#intro>Introduction</a>
<li><a href=#over>Overview</a>
<li><a href=#extending>Writing New TokenMarkers</a>
<li><a href=#using>Using jEdit's Syntax Colorizing in Other Applications</a>
</ul>

<a name=intro>
<h1>Introduction</h1>
</a>

This file has information about extending and using jEdit's syntax colorizing
system.

<a name=over>
<h1>Overview</h1>
</a>

jEdit's syntax colorizing system is composed of several components. At the
lowest level is an instance of
<a href=../api/org.gjt.sp.jedit.syntax.TokenMarker.html>
org.gjt.sp.jedit.syntax.TokenMarker</a>, which parses lines of text and
returns a linked list of tokens, each token containing a token type and
length.<p>

Further up is the <a href=../api/org.gjt.sp.jedit.syntax.SyntaxView.html>
org.gjt.sp.jedit.syntax.SyntaxView</a> class, which paints tokenized
lines.<p>

The <a href=../api/org.gjt.sp.jedit.syntax.SyntaxEditorKit.html>
org.gjt.sp.jedit.syntax.SyntaxEditorKit</a> creates instances of
the <code>SyntaxView</code> class.<p>

Finally, the <a href=../api/org.gjt.sp.jedit.syntax.SyntaxTextArea.html>
org.gjt.sp.jedit.syntax.SyntaxTextArea</a> class provides an easy
way t use the above, along with bracket matching and a number of other
useful features.

<a name=extending>
<h1>Writing New TokenMarkers</h1>
</a>

Extending jEdit's syntax colorizing system is actually quite easy.
One needs to implement a subclass of the
<a href=../api/org.gjt.sp.jedit.syntax.TokenMarker.html>
org.gjt.sp.jedit.syntax.TokenMarker</a> class.<p>

Once a token marker exists, an implementation of
<a href=../api/org.gjt.sp.jedit.syntax.Mode.html>
org.gjt.sp.jedit.syntax.Mode</a> needs to be provided, that returns
a new instance of the token marker in the <code>createTokenMarker</code>
method.<p>

Because there are many tricks you can use when writing token markers,
studying the source to one can be a great help. The two most complicated
token markers are CTokenMarker.java and SQLTokenMarker.java - they use
region matching, keyword maps, and many other useful techniques.

<a name=using>
<h1>Using jEdit's Syntax Colorizing in Other Applications</h1>
</a>

jEdit's syntax colorizing component can be embedded in other applications.
The easiest way to describe how this is done is with a live code
example:

<pre>
<font color=red>/* Create a new SyntaxTextArea */
SyntaxTextArea textArea = <font color=blue>new</font> SyntaxTextArea();

<font color=red>/* Enable bracket highlighting (optional) */</font>
textArea.setBracketHighlight(<font color=blue>true</font>);

<font color=red>/* Fetch the text area's document */</font>
DefaultSyntaxDocument document =
	(DefaultSyntaxDocument)textArea.getDocument();

<font color=red>/* Give it a token marker */</font>
document.setTokenMarker(<font color=blue>new</font> JavaTokenMarker());
</pre>

Basically, it boils down to creating an
<a href=../api/org.gjt.sp.jedit.syntax.SyntaxTextArea.html>
org.gjt.sp.jedit.syntax.SyntaxTextArea</a> instance
and setting the appropriate properties of it's document.<p>

After the text (if any) is first loaded into the document, the
<code>tokenizeLines()</code> method should be called:

<pre>
document.tokenizeLines();
</pre>

This step isn't strictly necessary, but without it long
multiline statements might get colorized wrong.<p>

By default, <code>SyntaxTextArea</code> uses an
<a href=../api/org.gjt.sp.jedit.syntax.DefaultSyntaxDocument.html>
org.gjt.sp.jedit.syntax.DefaultSyntaxDocument</a> as it's document.
In some situations, <code>DefaultSyntaxDocument</code> is not
appropriate - the lower level
<a href=../api/org.gjt.sp.jedit.syntax.SyntaxDocument.html>
org.gjt.sp.jedit.syntax.SyntaxDocument</a> interface can be used
instead.

</body>
</html>
